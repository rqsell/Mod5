'use strict';

<<<<<<< HEAD
var path = require('path');
=======
var path       = require('path'),
    objectPath = require('object-path');
>>>>>>> 9d75586d85d95b554623d0ff61913356d915b2db

/**
 * Infer the compilation context directory from options.
 * Relative paths are resolved against process.cwd().
 * @this {{options: object}} A loader or compilation
 * @returns {string} process.cwd() where not defined else the output path string
 */
function getContextDirectory() {
  /* jshint validthis:true */
<<<<<<< HEAD
  var context = this.options ? this.options.context : null;
  return !!context && path.resolve(context) || process.cwd();
}

module.exports = getContextDirectory;
=======
  var context = objectPath.get(this, 'options.context');
  return !!context && path.resolve(context) || process.cwd();
}

module.exports = getContextDirectory;
>>>>>>> 9d75586d85d95b554623d0ff61913356d915b2db

{"ast":null,"code":"import _regeneratorRuntime from\"/Users/secondary/Desktop/ironhack/Mod5/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/secondary/Desktop/ironhack/Mod5/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/secondary/Desktop/ironhack/Mod5/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";import{Switch,Route,NavLink,useHistory}from\"react-router-dom\";import TheContext from'./TheContext';import Home from\"./components/Home\";import AddItems from\"./components/AddItems\";import NotFound from\"./components/404/NotFound.js\";import SignUp from\"./components/auth/SignUp\";import LogIn from\"./components/auth/LogIn\";import Profile from\"./components/profile/Profile\";import actions from\"./api/index\";import GoogleAuth from\"./components/auth/GoogleAuth\";import GoogleAuthLogin from\"./components/auth/GoogleAuthLogin\";import{NotificationContainer,NotificationManager}from'react-notifications';var App=function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){function getUser(){return _getUser.apply(this,arguments);}function _getUser(){_getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return actions.getUser();case 2:user=_context.sent;console.log('user is',user);setUser(user===null||user===void 0?void 0:user.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getUser.apply(this,arguments);}getUser();},[]);var logOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return actions.logOut();case 2:res=_context2.sent;setUser(null);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function logOut(){return _ref.apply(this,arguments);};}();var history=useHistory();return/*#__PURE__*/React.createElement(TheContext.Provider,{value:{history:history,user:user,setUser:setUser}},user===null||user===void 0?void 0:user.email,/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},\"Home\"),user?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{onClick:logOut,to:\"/\"},\"Log Out\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/profile\"},\"Profile\")):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/sign-up\"},\"Sign Up\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/log-in\"},\"Log In\"))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/React.createElement(Home,props);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/sign-up\",render:function render(props){return/*#__PURE__*/React.createElement(SignUp,Object.assign({},props,{setUser:setUser}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/log-in\",render:function render(props){return/*#__PURE__*/React.createElement(LogIn,Object.assign({},props,{setUser:setUser}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",render:function render(props){return/*#__PURE__*/React.createElement(Profile,props);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/list/:listid\",render:function render(props){return/*#__PURE__*/React.createElement(AddItems,props);}}),/*#__PURE__*/React.createElement(Route,{component:NotFound})),!user&&/*#__PURE__*/React.createElement(GoogleAuth,{setUser:setUser}),!user&&/*#__PURE__*/React.createElement(GoogleAuthLogin,{setUser:setUser}),/*#__PURE__*/React.createElement(NotificationContainer,null));};export default App;","map":{"version":3,"sources":["/Users/secondary/Desktop/ironhack/Mod5/frontend/src/App.js"],"names":["React","Fragment","useState","useEffect","Switch","Route","NavLink","useHistory","TheContext","Home","AddItems","NotFound","SignUp","LogIn","Profile","actions","GoogleAuth","GoogleAuthLogin","NotificationContainer","NotificationManager","App","user","setUser","getUser","console","log","data","logOut","res","history","email","props"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { Switch, Route, NavLink, useHistory } from \"react-router-dom\";\nimport TheContext from './TheContext';\nimport Home from \"./components/Home\"\nimport AddItems from \"./components/AddItems\"\nimport NotFound from \"./components/404/NotFound.js\";\nimport SignUp from \"./components/auth/SignUp\";\nimport LogIn from \"./components/auth/LogIn\";\nimport Profile from \"./components/profile/Profile\";\nimport actions from \"./api/index\";\nimport GoogleAuth from \"./components/auth/GoogleAuth\";\nimport GoogleAuthLogin from \"./components/auth/GoogleAuthLogin\";\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\n\n\nconst App = () => {\n\n  let [user, setUser] = useState(null)\n\n  useEffect(() => {\n    async function getUser() {\n      let user = await actions.getUser();\n      console.log('user is', user)\n      setUser(user?.data)\n    }\n    getUser();\n  }, [])\n\n  const logOut = async () => {\n    let res = await actions.logOut();\n    setUser(null);\n  };\n\n  const history = useHistory();\n\n\n  return (\n    <TheContext.Provider value={{ history, user, setUser }}>\n\n      {user?.email}\n      <nav>\n        <NavLink to=\"/\">Home</NavLink>\n\n        {user ? (\n          <Fragment>\n            <NavLink onClick={logOut} to=\"/\">\n              Log Out\n            </NavLink>\n            <NavLink to=\"/profile\">Profile</NavLink>\n          </Fragment>\n        ) : (\n            <Fragment>\n              <NavLink to=\"/sign-up\">Sign Up</NavLink>\n              <NavLink to=\"/log-in\">Log In</NavLink>\n            </Fragment>\n          )}\n      </nav>\n      <Switch>\n        <Route exact path=\"/\" render={(props) => <Home {...props} />} />\n        <Route\n          exact\n          path=\"/sign-up\"\n          render={(props) => <SignUp {...props} setUser={setUser} />}\n        />\n        <Route\n          exact\n          path=\"/log-in\"\n          render={(props) => <LogIn {...props} setUser={setUser} />}\n        />\n        <Route\n          exact\n          path=\"/profile\"\n          render={(props) => <Profile {...props} />}\n        />\n<Route\n          exact\n          path=\"/list/:listid\"\n          render={(props) => <AddItems {...props} />}\n        />\n        <Route component={NotFound} />\n      </Switch>\n      {!user && <GoogleAuth setUser={setUser} />}\n      {!user && <GoogleAuthLogin setUser={setUser} />}\n\n      <NotificationContainer />\n\n    </TheContext.Provider>\n\n  )\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}